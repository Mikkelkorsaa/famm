@page "/dashboard"
@inject Blazored.LocalStorage.ILocalStorageService localStorage;
@attribute [Authorize(Roles = "Admin, Organizer, Reviewer, Applicant")]

<div class="container dashboardContainer">
	<AuthorizeView Roles="Admin">
		<Authorized>
			<AdminDashboardComponent />
		</Authorized>
	</AuthorizeView>
	<AuthorizeView Roles="Organizer">
		<Authorized>
			<OrganizerDashboardComponent />
		</Authorized>
	</AuthorizeView>
	<AuthorizeView Roles="Reviewer">
		<Authorized>
			<ReviewerDashboardComponent />
		</Authorized>
	</AuthorizeView>
	<AuthorizeView Roles="Applicant">
		<Authorized>
			<ApplicantDashboardComponent></ApplicantDashboardComponent>
		</Authorized>
	</AuthorizeView>
</div>


@code {
	private User? _user;
	protected override async Task OnInitializedAsync()
	{
		_user = await localStorage.GetItemAsync<User>("user");
	}
}